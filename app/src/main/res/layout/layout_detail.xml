<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>
        <import type="com.hphtv.movielibrary.roomdb.entity.relation.MovieWrapper"></import>
        <import type="android.text.TextUtils"/>
        <import type="android.view.View"/>
        <variable
            name="wrapper"
            type="com.hphtv.movielibrary.roomdb.entity.relation.MovieWrapper" />
    </data>

    <FrameLayout
        android:id="@+id/fl_detail"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        tools:context=".ui.detail.MovieDetailActivity">


        <ImageView
            android:id="@+id/iv_stage"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:scaleType="centerCrop"
            android:src="#22000000" />

        <RelativeLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_gravity="center">
            <ImageView
                android:id="@+id/stage_photo"
                android:layout_width="match_parent"
                android:layout_height="494dp"
                android:layout_alignParentBottom="true"
                android:background="#CC000000"/>
            <!--                android:background="@mipmap/detail_bg" />-->

            <ImageView
                android:id="@+id/iv_cover"
                android:layout_width="446dp"
                android:layout_height="616dp"
                android:layout_alignParentBottom="true"
                android:layout_marginLeft="60dip"
                android:layout_marginRight="60dip"
                android:background="@drawable/bg_for_detail_cover"
                android:elevation="6dp"
                android:padding="1dp"
                android:layout_marginBottom="60dp"
                android:scaleType="fitXY" />

            <RelativeLayout
                android:id="@+id/view_infogroup"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_alignTop="@id/stage_photo"
                android:layout_toRightOf="@id/iv_cover"
                android:orientation="vertical"
                android:paddingRight="63.3dip"
                android:layout_marginTop="-55dp"
                android:paddingBottom="68dp">

                <LinearLayout
                    android:id="@+id/view_btngroup"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_alignParentRight="true"
                    android:layout_marginLeft="10.0dip"
                    android:gravity="center_vertical"
                    android:orientation="horizontal">

                    <com.hphtv.movielibrary.ui.view.DrawTopButton
                        android:id="@+id/btn_play"
                        style="@style/DrawTopButtonStyle"
                        android:text="@string/play"
                        app:dtbDrawableTop="@drawable/ic_detial_play" />

                    <com.hphtv.movielibrary.ui.view.DrawTopButton
                        android:id="@+id/btn_trailer"
                        style="@style/DrawTopButtonStyle"
                        android:text="@string/pic_vedio"
                        app:dtbDrawableTop="@drawable/ic_detail_trailer" />

                    <com.hphtv.movielibrary.ui.view.DrawTopButton
                        android:id="@+id/btn_favorite"
                        style="@style/DrawTopButtonStyle"
                        android:text="@string/tx_favorite"
                        app:dtbDrawableTop="@drawable/ic_detial_star" />

                    <com.hphtv.movielibrary.ui.view.DrawTopButton
                        android:id="@+id/btn_edit"
                        style="@style/DrawTopButtonStyle"
                        android:text="@string/edit"
                        app:dtbDrawableTop="@drawable/ic_detail_edit" />

                    <com.hphtv.movielibrary.ui.view.DrawTopButton
                        android:id="@+id/btn_remove"
                        style="@style/DrawTopButtonStyle"
                        android:text="@string/remove"
                        app:dtbDrawableTop="@drawable/ic_detail_del" />

                    <com.hphtv.movielibrary.ui.view.DrawTopButton
                        android:id="@+id/btn_exit"
                        style="@style/DrawTopButtonStyle"
                        android:text="@string/filelist_back"
                        app:dtbDrawableTop="@drawable/ic_detail_exit" />
                </LinearLayout>

                <RelativeLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:layout_alignTop="@id/view_btngroup"
                    android:layout_alignParentRight="true"
                    android:layout_marginTop="146dp">

                    <RelativeLayout
                        android:id="@+id/title_group"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content">

                        <TextView
                            android:id="@+id/tv_title"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_alignParentLeft="true"
                            android:layout_toLeftOf="@+id/tv_rate"
                            android:ellipsize="marquee"
                            android:focusable="true"
                            android:singleLine="true"
                            android:text="@{wrapper.movie.title}"
                            android:textColor="@color/tx_fff"
                            android:textSize="34.0sp" />

<!--                        <RatingBar-->
<!--                            android:id="@id/rb_rate"-->
<!--                            style="@style/star"-->
<!--                            android:rating="@{Float.valueOf(TextUtils.isEmpty(wrapper.movie.ratings)?String.valueOf('0'):wrapper.movie.ratings)}"-->
<!--                            android:layout_width="wrap_content"-->
<!--                            android:layout_height="18dp"-->
<!--                            android:layout_centerVertical="true"-->
<!--                            android:layout_gravity="center"-->
<!--                            android:layout_marginLeft="20dp"-->
<!--                            android:layout_marginRight="16dp"-->
<!--                            android:layout_toLeftOf="@+id/tv_rate" />-->

                        <TextView
                            android:text="@{wrapper.movie.ratings}"
                            android:id="@id/tv_rate"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_centerVertical="true"
                            android:layout_gravity="center"
                            android:layout_marginRight="10dp"
                            android:layout_toLeftOf="@+id/tv_rate_count"
                            android:textColor="@color/tx_fff"
                            android:textSize="24sp" />

                        <TextView
                            android:id="@id/tv_rate_count"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_alignParentRight="true"
                            android:layout_centerVertical="true"
                            android:layout_gravity="center"
                            android:layout_marginRight="10dp"
                            android:textColor="@color/cddd"
                            android:textSize="12sp" />


                    </RelativeLayout>
                    <TextView
                        android:id="@+id/tv_title_en"
                        android:text="@{wrapper.movie.otherTitle}"
                        android:visibility="@{wrapper.movie.otherTitle==null?View.GONE:View.VISIBLE}"
                        android:layout_height="wrap_content"
                        android:textSize="26sp"
                        android:layout_below="@id/title_group"
                        android:layout_width="match_parent"/>

                    <LinearLayout
                        android:id="@+id/tag_group"
                        android:layout_width="match_parent"
                        android:layout_height="28dp"
                        android:layout_below="@id/tv_title_en"
                        android:layout_marginTop="16dp"
                        android:orientation="horizontal">

                        <TextView
                            android:id="@+id/tv_pub_dates"
                            android:layout_width="wrap_content"
                            android:layout_height="match_parent"
                            android:layout_marginRight="15dp"
                            android:background="@color/c70000000"
                            android:gravity="center"
                            android:paddingLeft="5dp"
                            android:text="@{wrapper.movie.year}"
                            android:paddingRight="5dp"
                            android:textColor="@color/tx_fff"
                            android:textSize="15sp"
                            android:visibility="@{TextUtils.isEmpty(wrapper.movie.year)?View.GONE:View.VISIBLE}"
                            android:textStyle="bold" />


                        <TextView
                            android:id="@+id/pub_area"
                            android:layout_width="wrap_content"
                            android:layout_height="match_parent"
                            android:layout_marginRight="15dp"
                            android:background="@color/c70000000"
                            android:gravity="center"
                            android:text="@{wrapper.movie.region}"
                            android:visibility="@{TextUtils.isEmpty(wrapper.movie.region)?View.GONE:View.VISIBLE}"
                            android:paddingLeft="5dp"
                            android:paddingRight="5dp"
                            android:textColor="@color/tx_fff"
                            android:textSize="15sp"
                            android:textStyle="bold" />


                        <TextView
                            android:id="@+id/tv_duration"
                            android:layout_width="wrap_content"
                            android:layout_height="match_parent"
                            android:layout_marginRight="15dp"
                            android:background="@color/c70000000"
                            android:gravity="center"
                            android:paddingLeft="5dp"
                            android:text="@{wrapper.movie.duration}"
                            android:visibility="@{TextUtils.isEmpty(wrapper.movie.duration)?View.GONE:View.VISIBLE}"
                            android:paddingRight="5dp"
                            android:textColor="@color/tx_fff"
                            android:textSize="15sp"
                            android:textStyle="bold" />


                        <TextView
                            android:id="@+id/tv_spoken_languages"
                            android:layout_width="wrap_content"
                            android:layout_height="match_parent"
                            android:layout_marginRight="15dp"
                            android:background="@color/c70000000"
                            android:ellipsize="marquee"
                            android:gravity="center"
                            android:paddingLeft="5dp"
                            android:paddingRight="5dp"
                            android:singleLine="true"
                            android:visibility="gone"
                            android:textColor="@color/tx_fff"
                            android:textSize="15sp"
                            android:textStyle="bold" />


                        <TextView
                            android:id="@+id/tv_genres"
                            android:layout_width="wrap_content"
                            android:layout_height="match_parent"
                            android:layout_marginRight="15dp"
                            android:background="@color/c70000000"
                            android:ellipsize="end"
                            android:gravity="center"
                            android:text="@{wrapper.toGenreString()}"
                            android:visibility="@{TextUtils.isEmpty(wrapper.toGenreString())?View.GONE:View.VISIBLE}"
                            android:paddingLeft="5dp"
                            android:paddingRight="5dp"
                            android:singleLine="true"
                            android:textColor="@color/tx_fff"
                            android:textSize="15sp"
                            android:textStyle="bold" />

                    </LinearLayout>

                    <LinearLayout
                        android:id="@+id/actors_group"
                        android:layout_width="match_parent"
                        android:layout_height="24dp"
                        android:layout_below="@id/tag_group"
                        android:layout_marginTop="16dp"
                        android:orientation="horizontal">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="match_parent"
                            android:text="@{wrapper.actors!=null?@string/main_actors:@string/main_file_list}"
                            android:textColor="@color/tx_dedede"
                            android:textSize="18sp" />

                        <TextView
                            android:id="@+id/tv_actors"
                            android:text="@{wrapper.toActorString()}"
                            android:layout_width="wrap_content"
                            android:layout_height="match_parent"
                            android:textColor="@color/tx_dedede"
                            android:textSize="18sp" />
                    </LinearLayout>

                    <ScrollView
                        android:id="@+id/sv_detail"
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:layout_below="@id/actors_group"
                        android:layout_marginTop="14dp"
                        android:background="@drawable/st_detail_scroll_bg"
                        android:focusable="false"
                        android:paddingTop="5dp"
                        android:paddingBottom="8dp"
                        android:scrollbarStyle="insideInset"
                        android:scrollbarThumbVertical="@mipmap/img_scroll_thumb">

                        <TextView
                            android:id="@+id/tv_detail"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_gravity="left"
                            android:text="@{wrapper.movie.plot}"
                            android:lineSpacingExtra="10.0dip"
                            android:textColor="#dddddd"
                            android:textSize="14.67sp" />
                    </ScrollView>

                </RelativeLayout>


                <!--<LinearLayout-->
                <!--android:id="@+id/ell"-->
                <!--android:layout_width="fill_parent"-->
                <!--android:layout_height="wrap_content"-->
                <!--android:layout_below="@id/tv_title"-->
                <!--android:orientation="vertical">-->

                <!--<LinearLayout-->
                <!--android:id="@+id/ln_actor"-->
                <!--android:layout_width="wrap_content"-->
                <!--android:layout_height="wrap_content"-->
                <!--android:layout_marginTop="10dp"-->
                <!--android:orientation="horizontal">-->

                <!--<TextView-->
                <!--android:layout_width="wrap_content"-->
                <!--android:layout_height="wrap_content"-->
                <!--android:gravity="right"-->
                <!--android:text="@string/actor"-->
                <!--android:textColor="@android:color/white"-->
                <!--android:textSize="14.6sp" />-->

                <!--<TextView-->
                <!--android:id="@+id/tv_actors"-->
                <!--android:layout_width="wrap_content"-->
                <!--android:layout_height="wrap_content"-->
                <!--android:layout_marginLeft="10.0dip"-->
                <!--android:ellipsize="end"-->
                <!--android:maxLines="3"-->
                <!--android:textColor="@android:color/white"-->
                <!--android:textSize="14.6sp" />-->
                <!--</LinearLayout>-->

                <!--<LinearLayout-->
                <!--android:id="@+id/ln_path"-->
                <!--android:layout_width="wrap_content"-->
                <!--android:layout_height="wrap_content"-->
                <!--android:layout_marginTop="10dp"-->
                <!--android:orientation="horizontal">-->

                <!--<TextView-->
                <!--android:layout_width="wrap_content"-->
                <!--android:layout_height="wrap_content"-->
                <!--android:gravity="right"-->
                <!--android:text="@string/video_detail_path"-->
                <!--android:textColor="@android:color/white"-->
                <!--android:textSize="14.6sp" />-->

                <!--<TextView-->
                <!--android:id="@+id/tv_path"-->
                <!--android:layout_width="wrap_content"-->
                <!--android:layout_height="wrap_content"-->
                <!--android:layout_marginLeft="10.0dip"-->
                <!--android:ellipsize="end"-->
                <!--android:maxLines="3"-->
                <!--android:textColor="@android:color/white"-->
                <!--android:textSize="14.6sp" />-->
                <!--</LinearLayout>-->
                <!--</LinearLayout>-->


            </RelativeLayout>


        </RelativeLayout>

        <RelativeLayout
            android:id="@+id/view_trailer"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:background="@color/c60000000"
            android:visibility="gone">

            <RelativeLayout
                android:layout_width="match_parent"
                android:layout_height="270dp"
                android:layout_centerInParent="true">


                <com.hphtv.movielibrary.ui.view.CircleRecyelerViewWithMouseScroll
                    android:id="@+id/rv_trailer"
                    android:layout_width="wrap_content"
                    android:layout_height="match_parent" />
            </RelativeLayout>

        </RelativeLayout>

    </FrameLayout>
</layout>